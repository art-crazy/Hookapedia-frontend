# Galaga Game Component

Классическая игра в стиле Galaga, встроенная в сайт Хукапедии.

## Структура файлов

```
Galaga/
├── Galaga.tsx          # Основной компонент игры
├── types.ts            # TypeScript типы и интерфейсы
├── constants.ts        # Игровые константы и настройки
├── drawing.ts          # Функции отрисовки (самолёт, враги, звёзды)
├── gameLogic.ts        # Игровая логика (враги, взрывы, коллизии)
├── keyboard.ts         # Обработка клавиатуры (WASD + стрелки)
└── index.ts            # Экспорт компонента
```

## Модули

### types.ts
Определяет все TypeScript типы:
- `Position` - координаты объекта
- `Bullet` - пули игрока и врагов
- `Enemy` - враги (bee, butterfly, boss)
- `Particle` - частицы взрывов
- `GameState` - состояние игры

### constants.ts
Игровые константы:
- Размеры canvas
- Скорости движения
- Очки за врагов
- Цвета врагов

### drawing.ts
Функции отрисовки:
- `drawPlayer()` - пиксельный самолёт игрока
- `drawEnemy()` - отрисовка врагов
- `drawStars()` - фон со звёздами

### gameLogic.ts
Игровая логика:
- `initEnemies()` - создание формации врагов
- `createExplosion()` - генерация частиц взрыва
- `checkCollision()` - проверка столкновений

### keyboard.ts
Обработка ввода:
- Поддержка WASD и стрелок
- Поддержка русской раскладки (Ф/В/Ц)
- Пауза на ESC

## Управление

### Десктоп
- **A/D** или **←/→** - движение влево/вправо
- **W** или **↑** или **Пробел** - стрельба
- **ESC** - пауза

### Мобильные устройства
- **Касание и движение пальцем** - управление самолётом
- **Автоматическая стрельба** - во время касания экрана

## Особенности

1. **Модульная архитектура** - легко добавлять новые функции
2. **Поддержка русской раскладки** - работает на любой раскладке
3. **Пиксельная графика** - классический ретро-стиль
4. **Прогрессивная сложность** - каждый уровень сложнее
5. **Система частиц** - красивые взрывы
6. **Бонусы и улучшения** - летающие power-up'ы
7. **Система оружия** - улучшенное оружие (тройной выстрел)
8. **Адаптивный дизайн** - полная поддержка мобильных устройств
9. **Сенсорное управление** - интуитивное управление на смартфонах

## Система бонусов

Во время игры случайно появляются летающие бонусы (золотые звёзды с надписью "BONUS"):

- **Визуал** - вращающаяся золотая звезда с эффектом свечения и пульсирующей надписью
- **Spawn** - появляются случайно сверху экрана
- **Скорость** - медленно летят вниз (легко поймать)
- **Тип оружия** - "Тройной выстрел" (3 зелёные пули одновременно)
- **Сброс** - оружие сбрасывается при попадании врага

## Прогрессия сложности

- **Уровень 1** - 24 врага (3 ряда × 8 колонок) - лёгкий старт
- **Уровень 2+** - 50 врагов (5 рядов × 10 колонок) - полная сложность
- С каждым уровнем враги чаще атакуют и стреляют

## Мобильная оптимизация

### Адаптивный Canvas
- **Десктоп**: 800×600px
- **Мобильные**: адаптируется под размер экрана (макс. 400×500px)
- Автоматическое изменение размера при повороте устройства

### Сенсорное управление
- Касание экрана активирует автоматическую стрельбу
- Движение пальцем управляет самолётом
- Плавное управление с коэффициентом 0.5 для точности
- Предотвращение прокрутки страницы во время игры (`touch-none`)

### Адаптивный интерфейс
- Уменьшенные шрифты на мобильных устройствах
- Компактное расположение информации (очки, жизни, уровень)
- Отдельные подсказки управления для десктопа и мобильных
- Адаптивные размеры текста в оверлеях (Game Over, Пауза)

## Добавление новых врагов

Чтобы добавить нового врага:

1. Добавьте тип в `types.ts`:
```typescript
export type EnemyType = 'bee' | 'butterfly' | 'boss' | 'newEnemy';
```

2. Добавьте очки в `constants.ts`:
```typescript
export const ENEMY_POINTS = {
  // ...
  newEnemy: 200,
};
```

3. Добавьте отрисовку в `drawing.ts`:
```typescript
if (enemy.type === 'newEnemy') {
  // код отрисовки
}
```

4. Создайте врага в `gameLogic.ts`:
```typescript
enemies.push({
  type: 'newEnemy',
  health: 5,
  // ...
});
```
